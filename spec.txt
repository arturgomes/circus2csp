Process (CProcess "SysClock" (ProcDef (ProcStalessMain [ProcZPara (ZSchemaDef (ZSPlain "SysClockS") (ZSchema [Choose ("time",[]) (ZVar ("\\nat",[]))])),CParAction "ResetClock" (CircusAction (CActionName "Clock")),CParAction "Clock" (CircusAction (CSPRecursion "X" (CSPSeq (CSPInterleave (CSPCommAction (ChanComm "tick" []) CSPSkip) (CSPCommAction (ChanComm "getCurrentTime" [ChanOutExp (ZVar ("time",[]))]) CSPSkip)) (CActionName "X")))),CParAction "Wait" (CircusAction (CActionCommand (CValDecl [Choose ("n",[]) (ZVar ("\\nat",[]))] (CActionCommand (CIf (CircThenElse (CircGAction (ZMember (ZTuple [ZVar ("n",[]),ZInt 0]) (ZVar (">",[]))) (CSPCommAction (ChanComm "tick" []) (CSPParAction "Wait" [ZCall (ZVar ("-",[])) (ZTuple [ZVar ("n",[]),ZInt 1])]))) (CircGAction (ZEqual (ZVar ("n",[])) (ZInt 0)) CSPSkip)))))))] (CActionName "ResetClock"))))
