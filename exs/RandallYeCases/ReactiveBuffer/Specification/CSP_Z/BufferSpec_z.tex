% This file is automatically generated by the Circus2ZCSP Translator V0.5
% on Wed Jul 20 11:14:53 BST 2016
% See https://github.com/RandallYe/Circus2ZCSP for more information.

\documentclass{article}
\usepackage{fuzz}

\begin{document}

%\begin{zsection}	 \SECTION BufferSpec \parents~standard\_toolkit
%\end{zsection}

\begin{axdef}
	maxbuff : \nat_1 
\where
 maxbuff = 5
\end{axdef}

\begin{zed}
	Buffer\_BufferState \defs [~  Buffer\_buff : \seq \nat ; Buffer\_size : 0 \upto maxbuff | Buffer\_size =~\# Buffer\_buff \leq maxbuff  ~]
\end{zed}

\begin{zed}
	State \defs Buffer\_BufferState
\end{zed}

\begin{zed}
	Init \defs [~  State' | Buffer\_buff' =~\langle \rangle \land Buffer\_size' = 0  ~]
\end{zed}

\begin{zed}
	Buffer\_BufferInit \defs [~  Buffer\_BufferState' ; Buffer\_size : 0 \upto maxbuff ; Buffer\_buff : \seq \nat | Buffer\_buff' =~\langle \rangle \land Buffer\_size' = 0  ~]
\end{zed}

\begin{zed}
	Buffer\_InputCmd \defs [~  \Delta Buffer\_BufferState ; x? : \nat | Buffer\_size < maxbuff \land Buffer\_buff' = Buffer\_buff \cat \langle x? \rangle \land Buffer\_size' = Buffer\_size + 1  ~]
\end{zed}

\begin{zed}
	Buffer\_OutputCmd \defs [~  \Delta Buffer\_BufferState | Buffer\_size > 0 \land Buffer\_buff' = tail~Buffer\_buff \land Buffer\_size' = Buffer\_size - 1  ~]
\end{zed}

\begin{zed}
	Buffer\_OP\_buff \defs [~  \Xi Buffer\_BufferState ; Buffer\_buff! : \seq \nat | Buffer\_buff! = Buffer\_buff  ~]
\end{zed}

\begin{zed}
	Buffer\_OP\_size \defs [~  \Xi Buffer\_BufferState ; Buffer\_size! : 0 \upto maxbuff | Buffer\_size! = Buffer\_size  ~]
\end{zed}

\begin{zed}
	Buffer\_BufferInit\_fOp \defs [~  \Xi Buffer\_BufferState | \lnot \pre Buffer\_BufferInit  ~]
\end{zed}

\begin{zed}
	Buffer\_InputCmd\_fOp \defs [~  \Xi Buffer\_BufferState ; x? : \nat | \lnot \pre Buffer\_InputCmd  ~]
\end{zed}

\begin{zed}
	Buffer\_OutputCmd\_fOp \defs [~  \Xi Buffer\_BufferState | \lnot \pre Buffer\_OutputCmd  ~]
\end{zed}

\end{document}
